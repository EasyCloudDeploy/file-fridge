# File Fridge Environment Configuration
# Copy this file to .env and customize the values
# All environment variables are optional and will use defaults if not set

# Database Configuration
# Environment variable: DATABASE_PATH
# Default: ./data/file_fridge.db
# Note: Just specify the file path - SQLite protocol is added automatically
DATABASE_PATH=./data/file_fridge.db

# Alternative locations:
# For database in root directory:
# DATABASE_PATH=./file_fridge.db
# For absolute path:
# DATABASE_PATH=/absolute/path/to/database.db

# Backward compatibility: DATABASE_URL still works with full SQLite URL
# DATABASE_URL=sqlite:///./data/file_fridge.db

# Logging
# Environment variable: LOG_LEVEL
# Default: INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Environment variable: LOG_FILE_PATH
# Default: None (logs only to stdout)
# Optional: Path to log file (if not set, logs only to stdout)
# LOG_FILE_PATH=/var/log/file-fridge/app.log

# Application Settings
# Environment variable: APP_NAME
# Default: File Fridge
APP_NAME=File Fridge

# Environment variable: APP_VERSION
# Default: Reads from VERSION file, or "0.0.0" if file doesn't exist
# Uncomment to override the VERSION file:
# APP_VERSION=1.0.0

# File Handling
# Environment variable: MAX_FILE_SIZE_MB
# Default: 10240
# Maximum file size in MB
MAX_FILE_SIZE_MB=10240

# Environment variable: DEFAULT_CHECK_INTERVAL
# Default: 3600
# Default check interval in seconds
DEFAULT_CHECK_INTERVAL=3600

# Network Mount Settings
# Environment variable: ALLOW_ATIME_OVER_NETWORK_MOUNTS
# Default: false
# Set to true if you're monitoring files on network mounts (SMB/NFS)
# and want to use atime-based criteria
ALLOW_ATIME_OVER_NETWORK_MOUNTS=false

# Docker/Container Path Translation (for symlink operations)
# Only needed when using SYMLINK operation type in a containerized environment
# where the hot/cold storage paths are mounted from the host filesystem

# Environment variable: CONTAINER_PATH_PREFIX
# Default: None
# The path prefix as seen inside the container
# Example: If container sees /data, set this to /data
# CONTAINER_PATH_PREFIX=/data

# Environment variable: HOST_PATH_PREFIX
# Default: None
# The path prefix as seen on the host system
# Example: If host sees /mnt/data, set this to /mnt/data
# HOST_PATH_PREFIX=/mnt/data

# Example scenario:
# - Container mounts: /mnt/data/hot_storage -> /data/hot_storage
# - Container mounts: /mnt/data/cold_storage -> /data/cold_storage
# - Set CONTAINER_PATH_PREFIX=/data
# - Set HOST_PATH_PREFIX=/mnt/data
# This ensures symlinks created inside the container point to host paths

# Authentication Settings
# Environment variable: SECRET_KEY
# Default: Auto-generated on first run (32-byte random key)
# IMPORTANT: Set this in production to persist across restarts
# Generate a secure key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# SECRET_KEY=your-secret-key-here

# Environment variable: ACCESS_TOKEN_EXPIRE_DAYS
# Default: 30
# JWT token expiration in days
ACCESS_TOKEN_EXPIRE_DAYS=30

# WARNING: Changing SECRET_KEY will invalidate all existing tokens
# Users will need to log in again

# Remote Transfers / Security Settings
# Configuration for inter-instance communication and security

# Environment variable: FF_INSTANCE_URL
# Default: None
# Public URL of this File Fridge instance (required for remote connections)
# Example: https://filefridge.example.com or http://192.168.1.100:8000
# FF_INSTANCE_URL=https://filefridge.example.com

# Environment variable: INSTANCE_NAME
# Default: File Fridge
# Human-readable name for this instance (shown in connection requests)
# INSTANCE_NAME=Production File Fridge

# Remote Transfer Timeout Settings
# Control timeout behavior for remote file transfers

# Environment variable: REMOTE_TRANSFER_CONNECT_TIMEOUT
# Default: 15.0
# Timeout in seconds for establishing connection to remote instance
# REMOTE_TRANSFER_CONNECT_TIMEOUT=15.0

# Environment variable: REMOTE_TRANSFER_READ_TIMEOUT
# Default: 300.0
# Timeout in seconds for reading responses (applies to verification steps)
# REMOTE_TRANSFER_READ_TIMEOUT=300.0

# Environment variable: REMOTE_TRANSFER_WRITE_TIMEOUT
# Default: 300.0
# Timeout in seconds for sending data chunks (increase for slow uploads)
# REMOTE_TRANSFER_WRITE_TIMEOUT=300.0

# Environment variable: REMOTE_TRANSFER_POOL_TIMEOUT
# Default: 60.0
# Timeout in seconds for acquiring connection from HTTP pool
# REMOTE_TRANSFER_POOL_TIMEOUT=60.0

# Security Settings for Remote Connections

# Environment variable: SIGNATURE_TIMESTAMP_TOLERANCE
# Default: 300
# Maximum age of signed requests in seconds (prevents replay attacks)
# SIGNATURE_TIMESTAMP_TOLERANCE=300

# Environment variable: REQUIRE_FINGERPRINT_VERIFICATION
# Default: true
# Require manual fingerprint verification before trusting remote connections
# REQUIRE_FINGERPRINT_VERIFICATION=true
